import{d as T,c as v,a as e,t as u,b as f,w as V,u as _,r as B,o as m,e as N,f as n,R as M,P as W,g as C,h as q,i as R,j as h,_ as S,k as A,n as x,l as D,m as E}from"./index-DNXbLi2a.js";const H={class:"winbox shadow"},F={class:"text-h6 ma-xs"},G={class:"ma-none"},I={class:"win-button-row row content-around"},J=T({__name:"WinBoxView",props:{scale:{default:100},pieceColor:{default:"#ffffff"},lineColor:{default:"#000000"},newPuzzleText:{default:()=>{}}},emits:["newPuzzleClick"],setup(a,{emit:w}){_(t=>({"2c6d649a":t.lineColor,"47692fb1":t.pieceColor,"359a513c":t.scale/10}));const i=w;return(t,l)=>{const r=B("RouterLink");return m(),v("div",H,[l[1]||(l[1]=e("svg",{class:"win-svg left"},[e("path",{d:"M 20 0 C 20 60 100 90 100 150"})],-1)),l[2]||(l[2]=e("svg",{class:"win-svg right"},[e("path",{d:"M 20 0 C 20 60 100 90 100 150"})],-1)),e("p",F,u(t.$t("win.congrats_title")),1),e("p",G,u(t.$t("win.congrats_subtitle")),1),e("div",I,[e("button",{class:"button",onClick:l[0]||(l[0]=P=>i("newPuzzleClick"))},u(t.newPuzzleText||t.$t("win.again")),1),f(r,{to:"/",class:"button"},{default:V(()=>[N(u(t.$t("win.home")),1)]),_:1})])])}}}),K={class:"column content-center justify-center items-center"},O={key:0,class:"tutorial-box ma-lg"},Q={class:"tutorial-text"},U={key:1},y=3,L=3,$=8,Z=T({__name:"PuzzlePage",props:{tutorial:{default:()=>-1}},setup(a){_(s=>({"77d18c1a":r.value,"7a68be2a":l.value}));const w=D(),i=n(100),t=n(new E),l=n("#333333"),r=n("#eeeeaa"),P=n(!1),p=[[[[2,0,0,0],[0,0,2,0]]],[[[2,1,1,1],[5,5,2,5]]],[[[0,4,3,2],[5,2,2,3]],[[1,1,1,1],[2,5,1,0]]]].map(s=>new M(s.map(o=>o.map(g=>new W(...g))),$,!0)),c=a.tutorial>=0&&a.tutorial<p.length,b=a.tutorial==p.length-1,k=n(c?new C(p[a.tutorial]):C.makeRandom(y,L,$)),d=n(c?p[a.tutorial]:k.value.makeRandomStartingState());function j(){c?w.push({path:"/puzzle",query:{tutorial:b?void 0:a.tutorial+1}}):(k.value=C.makeRandom(y,L,$),d.value=k.value.makeRandomStartingState())}const z=q(()=>a.tutorial==0&&d.value.pieces[0][0].right()==0?!1:d.value.isSolved());return(s,o)=>{const g=B("RouterLink");return m(),v("div",K,[f(g,{to:"/",class:"round button topleft ma-xs"},{default:V(()=>o[1]||(o[1]=[N("â—€")])),_:1}),R(c)?(m(),v("div",O,[o[2]||(o[2]=e("span",{class:"tutorial-i"},"i",-1)),e("span",Q,u(s.$t(`tutorial.tutorial_${s.tutorial}`)),1)])):h("",!0),f(S,{puzzle:d.value,theme:t.value,scale:i.value,"piece-color":l.value,"line-color":r.value,isLocked:z.value},null,8,["puzzle","theme","scale","piece-color","line-color","isLocked"]),P.value?(m(),v("div",U,[o[3]||(o[3]=e("br",null,null,-1)),e("p",null,u(z.value),1),f(S,{puzzle:d.value,scale:i.value},null,8,["puzzle","scale"])])):h("",!0),e("div",{class:x([{win:z.value},"popup-container"])},[z.value?(m(),A(J,{key:0,class:x([{win:z.value},"win-popup","my-lg"]),theme:t.value,"piece-color":l.value,"line-color":r.value,scale:i.value,"new-puzzle-text":R(c)?b?s.$t("tutorial.done"):s.$t("tutorial.next"):void 0,onNewPuzzleClick:o[0]||(o[0]=X=>j())},null,8,["class","theme","piece-color","line-color","scale","new-puzzle-text"])):h("",!0)],2)])}}});export{Z as default};
