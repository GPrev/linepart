import{d as L,c as m,a as W,b as n,t as x,e as v,w as V,u as _,r as $,o as p,f as B,g as o,R as q,P as A,h as g,i as D,j as R,k,_ as S,l as E,n as T,m as H,p as J}from"./index-D5_8aYJY.js";const Y={class:"winbox shadow"},F={class:"win-button-row row content-around"},G=L({__name:"WinBoxView",props:{scale:{default:100},pieceColor:{default:"#ffffff"},lineColor:{default:"#000000"},newPuzzleText:{default:"New puzzle"}},emits:["newPuzzleClick"],setup(l,{emit:f}){_(a=>({"6079ab5f":a.lineColor,b276f0f6:a.pieceColor,"448e2f36":a.scale/10}));const s=f;return(a,e)=>{const u=$("RouterLink");return p(),m("div",Y,[e[2]||(e[2]=W('<svg class="win-svg left"><path d="M 20 0 C 20 60 100 90 100 150"></path></svg><svg class="win-svg right"><path d="M 20 0 C 20 60 100 90 100 150"></path></svg><p class="text-h6 ma-xs">Congratulations !</p><p class="ma-none">You did it !</p>',4)),n("div",F,[n("button",{class:"button",onClick:e[0]||(e[0]=P=>s("newPuzzleClick"))},x(a.newPuzzleText),1),v(u,{to:"/",class:"button"},{default:V(()=>e[1]||(e[1]=[B("Main menu")])),_:1})])])}}}),I={class:"column content-center justify-center items-center"},K={key:0,class:"tutorial-box ma-lg"},O={class:"tutorial-text"},Q={key:1},y=3,N=3,C=8,Z=L({__name:"PuzzlePage",props:{tutorial:{default:()=>-1}},setup(l){_(d=>({e33f9a0e:u.value,"35aef32b":e.value}));const f=H(),s=o(100),a=o(new J),e=o("#333333"),u=o("#eeeeaa"),P=o(!1),M=["Touch the tiles to rotate them, and connect the lines.",`Lines leaving the edge of the puzzle are allowed.
Just connect the lines in between tiles.`,"Tiles that match might still be in the wrong position."],z=[[[[2,0,0,0],[0,0,2,0]]],[[[2,1,1,1],[5,5,2,5]]],[[[0,4,3,2],[5,2,2,3]],[[1,1,1,1],[2,5,1,0]]]].map(d=>new q(d.map(t=>t.map(h=>new A(...h))),C,!0)),i=l.tutorial>=0&&l.tutorial<z.length,b=l.tutorial==z.length-1,w=o(i?new g(z[l.tutorial]):g.makeRandom(y,N,C)),r=o(i?z[l.tutorial]:w.value.makeRandomStartingState());function j(){i?f.push({path:"/puzzle",query:{tutorial:b?void 0:l.tutorial+1}}):(w.value=g.makeRandom(y,N,C),r.value=w.value.makeRandomStartingState())}const c=D(()=>l.tutorial==0&&r.value.pieces[0][0].right()==0?!1:r.value.isSolved());return(d,t)=>{const h=$("RouterLink");return p(),m("div",I,[v(h,{to:"/",class:"round button topleft ma-xs"},{default:V(()=>t[1]||(t[1]=[B("â—€")])),_:1}),R(i)?(p(),m("div",K,[t[2]||(t[2]=n("span",{class:"tutorial-i"},"i",-1)),n("span",O,x(M[d.tutorial]),1)])):k("",!0),v(S,{puzzle:r.value,theme:a.value,scale:s.value,"piece-color":e.value,"line-color":u.value,isLocked:c.value},null,8,["puzzle","theme","scale","piece-color","line-color","isLocked"]),P.value?(p(),m("div",Q,[t[3]||(t[3]=n("br",null,null,-1)),n("p",null,x(c.value),1),v(S,{puzzle:r.value,scale:s.value},null,8,["puzzle","scale"])])):k("",!0),n("div",{class:T([{win:c.value},"popup-container"])},[c.value?(p(),E(G,{key:0,class:T([{win:c.value},"win-popup","my-lg"]),theme:a.value,"piece-color":e.value,"line-color":u.value,scale:s.value,"new-puzzle-text":R(i)?b?"Start playing":"Next Tutorial":void 0,onNewPuzzleClick:t[0]||(t[0]=U=>j())},null,8,["class","theme","piece-color","line-color","scale","new-puzzle-text"])):k("",!0)],2)])}}});export{Z as default};
